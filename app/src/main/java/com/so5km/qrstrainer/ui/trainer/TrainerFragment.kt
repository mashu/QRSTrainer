// Complete refactored TrainerFragment.kt from Phase 3...